-- Upsert alliance roster (116 members)
-- Run this in Supabase SQL Editor

INSERT INTO alliance_roster (name, power, role, is_active)
VALUES
  ('Fluffy', 58002935, 'Leader', true),
  ('Sysstm', 60380989, 'R4', true),
  ('Suntzu', 22531780, 'R4', true),
  ('SmokinLizard', 15742023, 'R4', true),
  ('Fluffy Queen', 13314510, 'R4', true),
  ('BBQSGE', 12353171, 'R4', true),
  ('Soutz', 15026469, 'R4', true),
  ('Vaelstrom', 12702636, 'R4', true),
  ('Cain', 7249939, 'R4', true),
  ('Bun', 17403166, 'R3', true),
  ('GiaHuy', 17753402, 'R3', true),
  ('cloud', 14168682, 'R3', true),
  ('Funny', 13953841, 'R3', true),
  ('Hades', 13211409, 'R3', true),
  ('bear', 12706131, 'R3', true),
  ('Divid3', 12758119, 'R3', true),
  ('Calca', 11819749, 'R3', true),
  ('Raijin', 11246360, 'R3', true),
  ('DRAGON', 11161597, 'R3', true),
  ('MayorEric', 11921993, 'R3', true),
  ('Draken', 11909559, 'R3', true),
  ('NECO', 11024050, 'R3', true),
  ('Sadgame', 11021206, 'R3', true),
  ('Black Ruler', 10970662, 'R3', true),
  ('hungvv', 10794105, 'R3', true),
  ('Angry Short Guy', 10610006, 'R3', true),
  ('VNKaiLey', 10606053, 'R3', true),
  ('FnDuke', 10496612, 'R3', true),
  ('Armstrong jr XL', 10411972, 'R3', true),
  ('NevX', 10267212, 'R3', true),
  ('Obi', 10146256, 'R3', true),
  ('Djembo', 10050151, 'R3', true),
  ('ClayFM', 10022678, 'R3', true),
  ('Fluffy Jester', 9956320, 'R3', true),
  ('Gouverneur', 9224310, 'R3', true),
  ('SkyLord', 8284335, 'R3', true),
  ('MrOren', 7970158, 'R3', true),
  ('yigitl', 6366840, 'R3', true),
  ('Dela Steven', 9829641, 'R3', true),
  ('ZETMA', 9795640, 'R3', true),
  ('Panh', 9790489, 'R3', true),
  ('Kasurana', 9774339, 'R3', true),
  ('Gund', 9420079, 'R3', true),
  ('Bụng báo', 9258020, 'R3', true),
  ('Trà Đàooooo', 9130013, 'R3', true),
  ('Lady Leanna', 9066944, 'R3', true),
  ('Alcar', 9040829, 'R3', true),
  ('Buby', 8920472, 'R3', true),
  ('CBC', 8842541, 'R3', true),
  ('TURAN80g', 8836607, 'R3', true),
  ('Baroness Daphne', 8811532, 'R3', true),
  ('Xrang··ie', 8790983, 'R3', true),
  ('Zdrawee', 8708568, 'R3', true),
  ('TRAP', 8676337, 'R3', true),
  ('EF SàuVôLệ', 8601768, 'R3', true),
  ('xFishieKx', 8576701, 'R3', true),
  ('ANH TUAN 1', 8516747, 'R3', true),
  ('XMihawkX', 8477330, 'R3', true),
  ('Xtelli', 8439499, 'R3', true),
  ('Bart', 8422043, 'R3', true),
  ('Batussai', 8387327, 'R3', true),
  ('kenji', 8325386, 'R3', true),
  ('unlimit', 8322764, 'R3', true),
  ('Bakr', 8192217, 'R3', true),
  ('sir Yuckfou', 8138164, 'R3', true),
  ('BryanV', 7959015, 'R3', true),
  ('Geen tg', 7871683, 'R3', true),
  ('lml Keter lml', 7671263, 'R3', true),
  ('MSAngel', 7630565, 'R3', true),
  ('ang', 7567688, 'R3', true),
  ('Conejo', 7448894, 'R3', true),
  ('Locfuho7', 7335653, 'R3', true),
  ('Crus8r', 7281884, 'R3', true),
  ('Enes1111', 7266601, 'R3', true),
  ('Yuriy', 7253422, 'R3', true),
  ('Silent Omen', 7207678, 'R3', true),
  ('Alak D', 6996336, 'R3', true),
  ('WOLF', 6972878, 'R3', true),
  ('Nolie', 6790614, 'R3', true),
  ('KomVD2', 6780078, 'R3', true),
  ('Bryan', 6775460, 'R3', true),
  ('Adegi', 6632214, 'R3', true),
  ('FishSayan', 6619342, 'R3', true),
  ('reeeldid', 6565602, 'R3', true),
  ('Sunman', 6446296, 'R3', true),
  ('ksa 511', 6400607, 'R3', true),
  ('Ssjlbroly', 5973462, 'R3', true),
  ('Jo', 5857470, 'R3', true),
  ('Pacul', 5700463, 'R3', true),
  ('CAPITAN', 5486133, 'R3', true),
  ('Shroud', 5053785, 'R3', true),
  ('Sonk8', 13169359, 'R2', true),
  ('Zaebali', 9104968, 'R2', true),
  ('GiuliaFC', 8627984, 'R2', true),
  ('sóc', 8259939, 'R2', true),
  ('sun god', 8105982, 'R2', true),
  ('Notor', 8025712, 'R2', true),
  ('leander112', 7857225, 'R2', true),
  ('Nhi', 7507268, 'R2', true),
  ('suet', 7480745, 'R2', true),
  ('MadMonkey', 13079094, 'R1', true),
  ('Furiaaa', 10635397, 'R1', true),
  ('KING IZZY 1', 10176824, 'R1', true),
  ('Phat', 10175710, 'R1', true),
  ('박시바', 9482450, 'R1', true),
  ('Bacod', 8912383, 'R1', true),
  ('XxALBOSSxX', 8723712, 'R1', true),
  ('Hoangg', 8704808, 'R1', true),
  ('sachie', 8659976, 'R1', true),
  ('DARKDAYSSS', 8529347, 'R1', true),
  ('SSRB', 8429180, 'R1', true),
  ('Dark', 8136811, 'R1', true),
  ('GHOST', 8083058, 'R1', true),
  ('Lukes', 7973454, 'R1', true),
  ('TGL', 7742091, 'R1', true),
  ('BINH F2P', 7538137, 'R1', true)
ON CONFLICT (name) DO UPDATE SET
  power = EXCLUDED.power,
  role = EXCLUDED.role,
  is_active = true,
  updated_at = NOW();

-- Mark members not in this list as inactive
UPDATE alliance_roster
SET is_active = false, updated_at = NOW()
WHERE name NOT IN (
  'Fluffy', 'Sysstm', 'Suntzu', 'SmokinLizard', 'Fluffy Queen', 'BBQSGE', 'Soutz', 'Vaelstrom', 'Cain',
  'Bun', 'GiaHuy', 'cloud', 'Funny', 'Hades', 'bear', 'Divid3', 'Calca', 'Raijin', 'DRAGON',
  'MayorEric', 'Draken', 'NECO', 'Sadgame', 'Black Ruler', 'hungvv', 'Angry Short Guy', 'VNKaiLey',
  'FnDuke', 'Armstrong jr XL', 'NevX', 'Obi', 'Djembo', 'ClayFM', 'Fluffy Jester', 'Gouverneur',
  'SkyLord', 'MrOren', 'yigitl', 'Dela Steven', 'ZETMA', 'Panh', 'Kasurana', 'Gund', 'Bụng báo',
  'Trà Đàooooo', 'Lady Leanna', 'Alcar', 'Buby', 'CBC', 'TURAN80g', 'Baroness Daphne', 'Xrang··ie',
  'Zdrawee', 'TRAP', 'EF SàuVôLệ', 'xFishieKx', 'ANH TUAN 1', 'XMihawkX', 'Xtelli', 'Bart',
  'Batussai', 'kenji', 'unlimit', 'Bakr', 'sir Yuckfou', 'BryanV', 'Geen tg', 'lml Keter lml',
  'MSAngel', 'ang', 'Conejo', 'Locfuho7', 'Crus8r', 'Enes1111', 'Yuriy', 'Silent Omen', 'Alak D',
  'WOLF', 'Nolie', 'KomVD2', 'Bryan', 'Adegi', 'FishSayan', 'reeeldid', 'Sunman', 'ksa 511',
  'Ssjlbroly', 'Jo', 'Pacul', 'CAPITAN', 'Shroud', 'Sonk8', 'Zaebali', 'GiuliaFC', 'sóc',
  'sun god', 'Notor', 'leander112', 'Nhi', 'suet', 'MadMonkey', 'Furiaaa', 'KING IZZY 1', 'Phat',
  '박시바', 'Bacod', 'XxALBOSSxX', 'Hoangg', 'sachie', 'DARKDAYSSS', 'SSRB', 'Dark', 'GHOST',
  'Lukes', 'TGL', 'BINH F2P'
);

-- Show summary
SELECT
  COUNT(*) FILTER (WHERE is_active) as active_members,
  COUNT(*) FILTER (WHERE NOT is_active) as inactive_members,
  SUM(power) FILTER (WHERE is_active) as total_power
FROM alliance_roster;
